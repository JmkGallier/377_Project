<!DOCTYPE html>
<html>
<title>PG County Spending Information for FY 2018</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="scripts.js"></script>



<style>
body, h1,h2,h3,h4,h5,h6 {font-family: "Montserrat", sans-serif}
.w3-row-padding img {margin-bottom: 12px}
/* Set the width of the sidebar to 120px */
.w3-sidebar {width: 120px;background: #222;}
/* Add a left margin to the "page content" that matches the width of the sidebar (120px) */
#main {margin-left: 120px}
/* Remove margins from "page content" on small screens */
@media only screen and (max-width: 600px) {#main {margin-left: 0}}
</style>





<body class="w3-black">

<!-- Icon Bar (Sidebar - hidden on small screens) -->
<nav class="w3-sidebar w3-bar-block w3-small w3-hide-small w3-center">
  <!-- Avatar image in top left corner-->
  <img src="https://upload.wikimedia.org/wikipedia/commons/c/c8/Seal_of_Prince_George%27s_County%2C_Maryland.svg" style="width:100%">


  <a href="index.html" class="w3-bar-item w3-button w3-padding-large w3-black">
    <i class="fa fa-home w3-xxlarge"></i>
    <p>HOME</p>
  </a>
  <a href="about.html" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-user w3-xxlarge"></i>
    <p>ABOUT</p>
  </a>
  <a href="documentation.html" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-eye w3-xxlarge"></i>
    <p>DOCUMENT</p>
  </a>

</nav>

<!-- Navbar on small screens (Hidden on medium and large screens) -->
<div class="w3-top w3-hide-large w3-hide-medium" id="myNavbar">
  <div class="w3-bar w3-black w3-opacity w3-hover-opacity-off w3-center w3-small">
    <a href="index.html" class="w3-bar-item w3-button" style="width:25% !important">HOME</a>
    <a href="about.html" class="w3-bar-item w3-button" style="width:25% !important">ABOUT</a>
    <a href="documentation.html" class="w3-bar-item w3-button" style="width:25% !important">DOCUMENT</a>
  </div>
</div>
  
<!-- Page Content -->
<div class="w3-padding-large" id="main">



  <!-- Content Section -->
  <div class="w3-padding-64 w3-content" id="photos">
    <h2 class="w3-text-light-grey">Documentation</h2>
    <hr style="width:200px" class="w3-opacity">
    <h3 class="w3-text-light-grey">Software requirements for local instances</h3>
    <p>NOTE: These dependencies should be installed while in the application directory with npm. 
      (If you plan to run the application of a third-party service, see the host service documentation).
    </p>
    <ul>
      <li>sqlite3</li>
      <li>express</li>
      <li>node_fetch</li>
    </ul>
    <h3 class="w3-text-light-grey">Installation and running the server</h3>
    <p>Before installing fork/download this repository to the directory you wish 
      to run the application from. If you use a service that deploys from a github 
      repository, please create a fork in your own github account and link the service to it.    
    </p>    
    <h3 class="w3-text-light-grey">Running from a local machine or server</h3>
    <p>Before launching the application, use a terminal to navigate to the directory 
      containing the application files (this should be the directory that you installed 
      the software requirements to). If you are using a NIX based system (MacOS, Linux, PowerShell) 
      this can be done with the 'cd' and 'ls' bash commands.
    </p>
    <ul>
      <li>cd Path_to/Server_Directory/</li>
      <li>ls ## Returns content of the current directory</li>
    </ul>
    <p>After making sure you are in the correct which contains the 'package.json' file, enter the following command:
    </p>
    <ul>
      <li>npm install</li>
    </ul>
    <p>In the terminal, confirm that a directory titled 'node-modules' was generated. Then start the server with:
    </p>
    <ul>
      <li>npm start</li>
    </ul>
    <p>To view your local application, open any browser and enter the following into the address bar:
    </p>
    <ul>
      <li>localhost:5000</li>
    </ul>
    <h3 class="w3-text-light-grey">API Endpoints</h3>
    <dl>
      <dt>Get</dt>
      <dd>Our Get request uses a static variable which contains 
        the URL where we gathered our database items. The request 
        fetches the content of the page into an array, which is then used 
        as an argument for our JavaScript Database Initialization function. 
        This function enters enters all the contents of the database array into 
        the pgCountySpending database located in the build directory.</dd>
      <dt>Post</dt>
      <dd>The Post request is used take the users agency selection, returning it as a 
        variable to the backend. This variable is created by taking the the 'param' value 
        from the 'body' object from within the request. This value is then used as an argument 
        in a JavaScript function that queries the SQLite3 database for all amounts billed and 
        descriptions the bills. This data is then returned to the frontend.</dd>
    </dl>  
    <h3 class="w3-text-light-grey">Database Initialization</h3>
    <p>When the get request is called to populate the local database, the function completes, 
      but this does not mean the database has been fully populated. While the function may have 
      completed, the SQL insertions are still happening in backend and will not allow queries until 
      it has completed. This means updating the database must be done manually. Also, the database 
      requires a minimum of 7 minutes to reached the target 54,038 rows. If you wish to create a fresh 
      SQLite database, it is recommended to run the function from the backend and then query the server 
      with the following:
    </p>
    <dl>
      <dt>First navigate to the build directory:</dt>
      <dd>cd Path_to/Server_directory/build/</dd>
      <dd>ls ## Confirm that pgCountSpending.db is here</dd>
      <dt>Access the database with sqlite3:</dt>
      <dd>sqlite3 pgCountySpending.db</dd>
      <dt>Query the table and confirm there are 54,038 rows:</dt>
      <dd>SELECT count(*) FROM spendingDB;</dd>
    </dl> 
    
    
    
 


  <!-- End Content Section -->
  </div>

    <!-- Footer -->
  <footer class="w3-content w3-padding-64 w3-text-grey w3-xlarge">
    <i class="fa fa-facebook-official w3-hover-opacity"></i>
    <i class="fa fa-instagram w3-hover-opacity"></i>
    <i class="fa fa-snapchat w3-hover-opacity"></i>
    <i class="fa fa-pinterest-p w3-hover-opacity"></i>
    <i class="fa fa-twitter w3-hover-opacity"></i>
    <i class="fa fa-linkedin w3-hover-opacity"></i>

  <!-- End footer -->
  </footer>

<!-- END PAGE CONTENT -->
</div>

</body>
</html>
